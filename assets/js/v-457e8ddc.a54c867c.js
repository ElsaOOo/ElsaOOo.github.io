(self.webpackChunkmy_blog_next=self.webpackChunkmy_blog_next||[]).push([[99],{2797:(r,a,e)=>{"use strict";e.r(a),e.d(a,{data:()=>t});const t={key:"v-457e8ddc",path:"/javascript/flatten-array.html",title:"JS 数组扁平化的几种方式",lang:"zh-CN",frontmatter:{lang:"zh-CN",description:"js 数组扁平化的几种方式"},excerpt:"",headers:[{level:3,title:"递归实现",slug:"递归实现",children:[]},{level:3,title:"js reduce方法",slug:"js-reduce方法",children:[]},{level:3,title:"js 扩展运算符实现",slug:"js-扩展运算符实现",children:[]},{level:3,title:"js 数组的flat方法",slug:"js-数组的flat方法",children:[]},{level:3,title:"toString + split方法",slug:"tostring-split方法",children:[]},{level:3,title:"正则 + JSON方法处理",slug:"正则-json方法处理",children:[]}]}},9125:(r,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>n});const t=(0,e(6252).uE)('<h1 id="js-数组扁平化的几种方式" tabindex="-1"><a class="header-anchor" href="#js-数组扁平化的几种方式" aria-hidden="true">#</a> JS 数组扁平化的几种方式</h1><p>在日常开发工作中，将一个多维数组扁平化为一维数组是常见的需求，这里总结一下js中数组扁平化的几种方式。</p><h3 id="递归实现" tabindex="-1"><a class="header-anchor" href="#递归实现" aria-hidden="true">#</a> 递归实现</h3><p>通过递归的方式，一项一项的去遍历，如果每一项还是一个数组，就继续往下去遍历，直到单个元素不是一个数组，</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>const nestArr = [1, [2], [[3], [4]], [[[5], [6]]]];\n\nfunction flattenArray(array) {\n    let result = [];\n    for (let i = 0; i &lt; array.length; i++) {\n        if (Array.isArray(array[i])) {\n            result = result.concat(flattenArray(array[i]));\n        } else {\n            result.push(array[i]);\n        }\n        \n    }\n    return result;\n}\n\nconsole.log(flattenArray(nestArr))  // =&gt; [ 1, 2, 3, 4, 5, 6 ]\n</code></pre></div><h3 id="js-reduce方法" tabindex="-1"><a class="header-anchor" href="#js-reduce方法" aria-hidden="true">#</a> js reduce方法</h3><p>reduce方法其实也是一种递归方法，比上面的for循环简洁一点。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>const nestArr = [1, [2], [[3], [4]], [[[5], [6]]]];\nfunction flattenArray(array) {\n    return array.reduce((acc, cur) =&gt; {\n        return acc.concat(Array.isArray(cur) ? flattenArray(cur) : cur);\n    }, [])\n}\n\nconsole.log(flattenArray(nestArr)) // =&gt; [ 1, 2, 3, 4, 5, 6 ]\n</code></pre></div><h3 id="js-扩展运算符实现" tabindex="-1"><a class="header-anchor" href="#js-扩展运算符实现" aria-hidden="true">#</a> js 扩展运算符实现</h3><div class="language-javascript ext-js"><pre class="language-javascript"><code>const nestArr = [1, [2], [[3], [4]], [[[5], [6]]]];\nfunction flattenArray(array) {\n    while (array.some((item) =&gt; Array.isArray(item))) {\n      // 每次展开一项\n        array = [].concat(...array)        \n    }\n    return array;\n}\n\nconsole.log(flattenArray(nestArr)) // =&gt; [ 1, 2, 3, 4, 5, 6 ]\n</code></pre></div><h3 id="js-数组的flat方法" tabindex="-1"><a class="header-anchor" href="#js-数组的flat方法" aria-hidden="true">#</a> js 数组的flat方法</h3><p>ES6中的flat方法，可以直接实现数组的扁平化</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>arr.flat([depth]) // 具体参考mdn文档\n</code></pre></div><h3 id="tostring-split方法" tabindex="-1"><a class="header-anchor" href="#tostring-split方法" aria-hidden="true">#</a> toString + split方法</h3><div class="language-javascript ext-js"><pre class="language-javascript"><code>const nestArr = [1, [2], [[3], [4]], [[[5], [6]]]];\nfunction flattenArray(array) {\n    return array.toString().split(&#39;,&#39;) // 这里的toString()方法将数组中的每一项转化为字符串类型\n}\nconsole.log(flattenArray(nestArr)) // =&gt; [ &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39; ]\n</code></pre></div><h3 id="正则-json方法处理" tabindex="-1"><a class="header-anchor" href="#正则-json方法处理" aria-hidden="true">#</a> 正则 + JSON方法处理</h3><div class="language-javascript ext-js"><pre class="language-javascript"><code>const nestArr = [1, [2], [[3], [4]], [[[5], [6]]]];\nfunction flattenArray(array) {\n    let str = JSON.stringify(array);\n    str = str.replace(/(\\[|\\])/g, &#39;&#39;);\n    str = `[${str}]`;\n    return JSON.parse(str);\n}\n\nconsole.log(flattenArray(nestArr)) // =&gt; [ 1, 2, 3, 4, 5, 6 ]\n</code></pre></div>',17),n={render:function(r,a){return t}}}}]);