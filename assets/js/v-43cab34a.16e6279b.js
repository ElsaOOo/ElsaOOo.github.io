(self.webpackChunkmy_blog_next=self.webpackChunkmy_blog_next||[]).push([[354],{7424:(t,e,n)=>{"use strict";n.r(e),n.d(e,{data:()=>r});const r={key:"v-43cab34a",path:"/posts/ts-generic.html",title:"TypeScript æ³›å‹åº”ç”¨(ä¸€)",lang:"zh-CN",frontmatter:{description:"ts typescript æ³›å‹"},excerpt:"",headers:[{level:3,title:"æ³›å‹ extends",slug:"æ³›å‹-extends",children:[]}]}},4114:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});const r=(0,n(6252).uE)('<h1 id="typescript-æ³›å‹åº”ç”¨-ä¸€" tabindex="-1"><a class="header-anchor" href="#typescript-æ³›å‹åº”ç”¨-ä¸€" aria-hidden="true">#</a> TypeScript æ³›å‹åº”ç”¨(ä¸€)</h1><blockquote><p>TypeScript æ³›å‹ç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¸ªæ¥å£çš„ç±»å‹å®šä¹‰çš„æ—¶å€™ä¸ç¡®å®šæ˜¯ä»€ä¹ˆç±»å‹ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™æ‰å»èµ‹äºˆå®ƒç¡®å®šçš„ç±»å‹ï¼Œè¿™å°±ä½¿å¾—è¿™ä¸ªæ¥å£å…·æœ‰å¤ç”¨æ€§ã€‚</p></blockquote><p>æ¥ä¸‹æ¥é€šè¿‡å‡ ä¸ªå®é™…çš„ä¾‹å­ ğŸŒ° æ¥è¯´æ˜ä¸€ä¸‹å®ƒçš„åº”ç”¨åœºæ™¯ã€‚</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code>// è·å–ä¸€ä¸ªnumberç±»å‹çš„æ•°ç»„\nconst makeNumArr = (val: number) =&gt; [val];\n\n// è·å–ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„\nconst makeStrArr = (val: string) =&gt; [val];\n</code></pre></div><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å‚æ•°ç±»å‹çš„é™åˆ¶æ¥å¾—åˆ°è¿”å›å€¼çš„ç±»å‹ï¼Œè¿™æ ·å‚æ•°çš„ç±»å‹ä¸€å˜åŒ–ï¼Œå°±è¦æ–°å†™ä¸€ä¸ªå‡½æ•°ï¼Œå¾ˆä¸å¤ç”¨ã€‚æˆ‘ä»¬æƒ³è¦çš„æ˜¯ç¼–è¯‘æ—¶æ ¹æ®å‚æ•°ç±»å‹å°±å¾—åˆ°å¯¹åº”çš„è¿”å›å€¼ç±»å‹ï¼Œè¿™æ—¶å€™å°±è¦ç”¨åˆ°æ³›å‹äº†ã€‚</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code>// åœ¨å‡½æ•°å‰é¢åŠ ä¸Š&lt;T&gt; è¡¨ç¤ºè¿™ä¸ªå‡½æ•°æ¥æ”¶ä¸€ä¸ªæ³›å‹å‚æ•°\nconst makeArr = &lt;T&gt;(val: T) =&gt; [val];\n\n// åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œå¦‚æœå‚æ•°æ˜¯ä¸€ä¸ªnumberç±»å‹ï¼Œtsè‡ªåŠ¨æ¨å¯¼å‡ºè¿”å›å€¼ç±»å‹æ˜¯number[];\n// åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œå¦‚æœå‚æ•°æ˜¯ä¸€ä¸ªstringç±»å‹ï¼Œtsè‡ªåŠ¨æ¨å¯¼å‡ºè¿”å›å€¼ç±»å‹æ˜¯string[];\nconst numberArr = makeArr(1);\nconst stringArr = makeArr(&quot;hello&quot;);\n</code></pre></div><p>æˆ–è€…æˆ‘ä»¬å¯ä»¥ç»™ä¸€ä¸ªæ³›å‹å‡½æ•°å®šä¹‰ä¸€ä¸ªæ¥å£ç±»å‹ï¼Œæ ¹æ®è¿™ä¸ªæ¥å£ç±»å‹å¯ä»¥ç”Ÿæˆä¸ç”¨ç±»å‹çš„å‡½æ•°</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code>interface GenericArr&lt;T&gt; {\n  (val: T): T[];\n}\nconst makeArr = &lt;T&gt;(val: T) =&gt; [val];\n// å¾—åˆ°ä¸€ä¸ªé™åˆ¶è¾“å…¥å‚æ•°ä¸ºnumberçš„å‡½æ•°\nlet makeNumberArr: GenericArr&lt;number&gt; = makeArr;\n// å¾—åˆ°ä¸€ä¸ªé™åˆ¶è¾“å…¥å‚æ•°ä¸ºstringçš„å‡½æ•°\nlet makeStringArr: GenericArr&lt;string&gt; = makeArr;\nconst numberArr = makeNumberArr(1);\nconst stringArr = makeStringArr(&quot;hello&quot;);\n</code></pre></div><br><br><hr><h3 id="æ³›å‹-extends" tabindex="-1"><a class="header-anchor" href="#æ³›å‹-extends" aria-hidden="true">#</a> æ³›å‹ extends</h3><p>æœ‰è¿™æ ·ä¸€ç§åœºæ™¯ï¼Œåœ¨ä½¿ç”¨å‡½æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼ å‚æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯æˆ‘ä»¬å¯èƒ½åªå¯¹è¿™ä¸ªå‚æ•°çš„å‡ ä¸ªå­—æ®µåšå¤„ç†ï¼Œå…¶ä»–å­—æ®µä¸å˜ã€‚</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code>const makeFullName = (obj) =&gt; ({\n  ...obj,\n  fullName: `${obj.firstname} ${obj.lastname}`,\n});\n\n// è¿™é‡Œå¯¹objçš„ç±»å‹çº¦æŸå°±æ˜¯\nconst makeFullName = (obj: { firstname: string; lastname: string }) =&gt; ({\n  ...obj,\n  fullName: `${obj.firstname} ${obj.lastname}`,\n});\n\n// ä½†æ˜¯æˆ‘ä»¬ä¼ å…¥çš„å‚æ•°å¯èƒ½ä¸æ­¢ä¸¤ä¸ªå­—æ®µï¼Œè¿˜åŒ…å«ä¸€äº›å…¶ä»–çš„å­—æ®µ\nconst res = makeFullName({ firstname: &quot;mary&quot;, lastname: &quot;sun&quot;, age: 20 });\n\n// è¿™é‡Œç¼–è¯‘å™¨å°±ä¼šæç¤ºæˆ‘ä»¬ageè¿™ä¸ªå­—æ®µä¸åœ¨{ firstname: string; lastname: string } è¿™ä¸ªç±»å‹ä¸­ã€‚è¿™ç§æƒ…å†µå¯ä»¥æœ‰ä¸¤ç§å¤„ç†æ–¹å¼\n// ç¬¬ä¸€ç§æ˜¯æŠŠä¼ çš„å‚æ•°æå‰ä»¥ä¸€ä¸ªå˜é‡çš„å½¢å¼å®šä¹‰\nconst obj1 = {\n  firstname: &quot;mary&quot;,\n  lastname: &quot;sun&quot;,\n  age: 20,\n};\n// è¿™ç§æƒ…å†µå°±ä¸ä¼šæŠ¥ç¼–è¯‘é”™è¯¯\nconst res2 = makeFullName(obj1);\n// ç¬¬äºŒç§æ˜¯ç»™è¿™ä¸ªå‡½æ•°æ·»åŠ æ³›å‹å‚æ•°\nconst makeFullName2 = &lt;T extends { firstname: string; lastname: string }&gt;(\n  obj: T\n) =&gt; ({\n  ...obj,\n  fullName: `${obj.firstname} ${obj.lastname}`,\n});\n// ç„¶åå†ä»¥å†…è”å‚æ•°çš„å½¢å¼ä¼ å‚ï¼Œä¹Ÿä¸ä¼šæŠ¥ç¼–è¯‘é”™è¯¯äº†\nconst res3 = makeFullName2({\n  firstname: &quot;mary&quot;,\n  lastname: &quot;sun&quot;,\n  age: 20,\n});\n</code></pre></div><p>åœ¨ React é¡¹ç›®ä¸­ï¼Œç”¨åˆ°æ³›å‹çš„åœ°æ–¹ä¹Ÿå¾ˆå¤šï¼Œæ¯”å¦‚ç»„ä»¶çš„ Props å’Œ State å°±æ˜¯ä¸€ä¸ªæ³›å‹ã€‚å–ä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„ ğŸŒ°ã€‚</p><div class="language-tsx ext-tsx"><pre class="language-tsx"><code>&lt;!-- APP.tsx --&gt;\nimport React, {useState} from &quot;react&quot;;\nimport { render } from &#39;react-dom&#39;;\n\ninterface HelloWorldProps {\n  name: string;\n}\nconst HelloWorld: React.FC&lt;HelloWorldProps&gt; = ({name}) =&gt; {\n  const  [state] = useState&lt;{name: string}&gt;({name: &#39;&#39;})\n  return (\n  &lt;div&gt;hello {name}&lt;/div&gt;\n)\n}\n\ninterface FormProps&lt;T&gt; {\n  values: T;\n  children: (values: T) =&gt; React.ReactNode;\n}\nconst Form = &lt;T extends {}&gt;({values, children}: FormProps&lt;T&gt;) =&gt; {\n  return children(values)\n}\n\nconst App = () =&gt; (\n  &lt;div id=&quot;root&quot;&gt;\n    &lt;HelloWorld /&gt;\n    &lt;Form values={{firstName: &#39;bob&#39;}}&gt;\n      {(values) =&gt; &lt;div&gt;{values.firstName}&lt;/div&gt;}\n    &lt;/Form&gt;\n  &lt;/div&gt;\n)\n\nrender(\n  &lt;App /&gt;,\n  document.getElementById(&#39;root&#39;)\n);\n</code></pre></div>',16),a={render:function(t,e){return r}}}}]);